<div id="modal-header" class="modal-header cargo-detail-header" hx-swap-oob="true">
  <div class="cargo-detail-header-top">
    <div class="cargo-detail-header-left">
      <div class="muted cargo-detail-id">ID: {{ cargo.cargo_id|default:cargo.id }}</div>
    </div>
    <div class="cargo-detail-header-right">
      <div class="cargo-price cargo-detail-price">{{ cargo.price_display|default:cargo.price }}</div>
      <button class="btn btn-icon cargo-detail-close" type="button" data-modal-close="1">✕</button>
    </div>
  </div>

  <div class="cargo-detail-points">
    <div class="cargo-detail-point">
      <div class="muted cargo-detail-point-label">Погрузка</div>
      <div class="cargo-detail-point-value">{{ cargo.route_from }}{% if cargo.loading_address %}, {{ cargo.loading_address }}{% endif %}{% if cargo.loading_date %} ({{ cargo.loading_date|date:"j b H:i" }}){% endif %}</div>
    </div>
    <div class="cargo-detail-point">
      <div class="muted cargo-detail-point-label">Выгрузка</div>
      <div class="cargo-detail-point-value">{{ cargo.route_to }}{% if cargo.unloading_address %}, {{ cargo.unloading_address }}{% endif %}{% if cargo.unloading_date %} ({{ cargo.unloading_date|date:"j b H:i" }}){% endif %}</div>
    </div>
  </div>
</div>

<div class="cargo-detail-content" style="display:grid;gap:10px;">

  {% if cargo.cargo_type or cargo.truck_type or cargo.loading_type or cargo.wv_display %}
    <div class="card" style="padding:10px;">
      <div class="muted" style="margin-bottom:6px;">Параметры</div>
      <div style="display:grid;gap:6px;">
        {% if cargo.cargo_type %}<div><strong>Тип груза:</strong> {{ cargo.cargo_type }}</div>{% endif %}
        {% if cargo.truck_type %}<div><strong>Тип кузова:</strong> {{ cargo.truck_type }}</div>{% endif %}
        {% if cargo.loading_type %}<div><strong>Тип погрузки:</strong> {{ cargo.loading_type }}</div>{% endif %}
        {% if cargo.wv_display %}<div><strong>Вес / объём:</strong> {{ cargo.wv_display }}</div>{% endif %}
      </div>
    </div>
  {% endif %}

  {% if cargo.description %}
    <div class="card" style="padding:10px;">
      <div class="muted" style="margin-bottom:6px;">Комментарий</div>
      <div>{{ cargo.description }}</div>
    </div>
  {% endif %}

  {% if cargo.contact_name %}
    <div class="card" style="padding:10px;">
      <div class="muted" style="margin-bottom:6px;">Грузоотправитель</div>
      <div><strong>{{ cargo.contact_name }}</strong>{% if cargo.shipper_inn %} (ИНН {{ cargo.shipper_inn }}){% endif %}</div>
    </div>
  {% endif %}

  {% if cargo.contacts_company_name or cargo.contacts_person_name or cargo.contacts_phone %}
    <div class="card" style="padding:10px;">
      <div style="display:flex;justify-content:space-between;gap:10px;align-items:flex-start;">
        <div class="muted">Контакты</div>
        {% if cargo.contacts_company_name %}<div><strong>{{ cargo.contacts_company_name }}</strong></div>{% endif %}
      </div>

      <div style="display:grid;gap:8px;margin-top:8px;">
        {% if cargo.contacts_person_name %}<div><strong>Логист:</strong> {{ cargo.contacts_person_name }}</div>{% endif %}
        {% if cargo.contacts_phone %}
          <div style="display:grid;gap:6px;">
            <div class="muted">Номер телефона</div>
            <a class="btn btn-secondary contact-phone" href="tel:{{ cargo.contacts_phone_tel|default:cargo.contacts_phone }}">{{ cargo.contacts_phone }}</a>
          </div>
        {% endif %}
      </div>
    </div>
  {% endif %}
</div>
